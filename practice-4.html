<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code Practice</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>Code Practice</h1>
  <p>ãŠé¡Œã‚’ï¼’ï¼åˆ†ãã‚‰ã„ã§æ›¸ãç·´ç¿’</p>
  <pre>
    <code>
        ECã‚µã‚¤ãƒˆã®æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™ã€‚

        const orders = [
            { id: 1, user: "Taro", total: 3000, status: "completed" },
            { id: 2, user: "Hanako", total: 1500, status: "pending" },
            { id: 3, user: "Taro", total: 2000, status: "completed" },
            { id: 4, user: "Ken", total: 5000, status: "completed" },
            { id: 5, user: "Hanako", total: 2500, status: "completed" }
        ]
      

      â–¼æ¡ä»¶
      ğŸ¯ è¦ä»¶
        ã€Œcompletedã€çŠ¶æ…‹ã®æ³¨æ–‡ã®ã¿å¯¾è±¡ã«ã—ã¦
        å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®åˆè¨ˆè³¼å…¥é‡‘é¡ã‚’è¨ˆç®—ã—ã€
        åˆè¨ˆé‡‘é¡ãŒé«˜ã„é †ã«
        æ¬¡ã®å½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ï¼š

        [
            { user: "Ken", total: 5000 },
            { user: "Taro", total: 5000 },
            { user: "Hanako", total: 2500 }
        ]

      â–¼è€ƒãˆæ–¹
      completed ã‚’æŠ½å‡ºã™ã‚‹
      ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«åˆè¨ˆã™ã‚‹
      åˆè¨ˆã—ãŸçµæœã‚’é…åˆ—ã«å…¥ã‚Œ
      é«˜ã„é †ã«ã‚½ãƒ¼ãƒˆã™ã‚‹

      
    </code>
  </pre>


  <!-- <script src="js/main.js"></script> -->
  <script>
    const orders = [
      { id: 1, user: "Taro", total: 3000, status: "completed" },
      { id: 2, user: "Hanako", total: 1500, status: "pending" },
      { id: 3, user: "Taro", total: 2000, status: "completed" },
      { id: 4, user: "Ken", total: 5000, status: "completed" },
      { id: 5, user: "Hanako", total: 2500, status: "completed" }
    ]


    const totals = []

    for (const order of orders) {
        // completed ã‚’æŠœãå‡ºã™
        if(order.status === "completed") {

            //åˆè¨ˆã‚’å‡ºã™
            if (totals[order.user]){
                // ã™ã§ã«å­˜åœ¨ã—ã¦ã„ã‚Œã°è¶³ã™ã†
                totals[order.user] += order.total
            } else {
                // å­˜åœ¨ã—ã¦ã„ãªã‘ã‚Œã°æ–°ãŸã«è¿½åŠ 
                totals[order.user] = order.total
            }
            
        }
    }
    console.log(totals)

    // é…åˆ—ã«å…¥ã‚Œã‚‹
    const result = Object.entries(totals).map(([user, total]) => {
        return {user:user, total:total}
    })

    result.sort((a,b) => b.total - a.total)

    // return result

    console.log(result)

  </script>

</body>
</html>
